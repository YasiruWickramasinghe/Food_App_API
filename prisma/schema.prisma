// Prisma schema file for defining your database schema and models.

// Define the MySQL database connection.
datasource db {
  provider = "mysql" // Specifies the database provider as MySQL.
  url      = env("DATABASE_URL") // Uses the environment variable DATABASE_URL for connection.
}

// Generate Prisma Client code for interacting with the database.
generator client {
  provider = "prisma-client-js" // Generates a JavaScript Prisma Client.
}

// Define the User model.
model User {
  id        Int      @id @default(autoincrement()) // Unique identifier for the user.
  createdAt DateTime @default(now()) // Timestamp of user creation.
  updatedAt DateTime @updatedAt // Timestamp of last update.

  email String @unique // User's email address (unique).
  hash  String // Hashed password for user authentication.

  firstName String? // User's first name (optional).
  lastName  String? // User's last name (optional).

  foods Food[] // Relationship to associated Food items.

  @@map("users") // Maps this model to the "users" table in the database.
}

// Define the Food model.
model Food {
  id        Int      @id @default(autoincrement()) // Unique identifier for the food item.
  createdAt DateTime @default(now()) // Timestamp of food item creation.
  updatedAt DateTime @updatedAt // Timestamp of last update.

  foodName       String // Name of the food item.
  description String? // Description of the food item (optional).
  price         String // Price of the food item.

  userId Int // Foreign key to associate a User with the food item.
  user   User @relation(fields: [userId], references: [id]) // Relationship to the User model.

  @@map("foods") // Maps this model to the "foods" table in the database.
}
